<%= render 'shared/frontend/navbar'%>
<div class="container">
  <h1 class="text-warning text-center"><%= @find_child.name %></h1>
  <%= form_with scope: :dashboard, url: dashboard_child_medicine_index_path, local: true do |form| %>
    <div class="form-group">
      <%= form.label :title, '用藥名稱' %>
      <%= form.text_field :title, class: 'form-control'  %>
    </div>

    <div class="form-group">
      <%= form.label :started_at, '用藥時間' %>
      <%= form.date_field :started_at, class: 'form-control datetimepickr' %>
    </div>

    <div class="form-group">
      <%= form.label :content, '備註' %>
      <%= form.text_area :content, class: 'form-control' %>
    </div>
    
    <div class="form-group">
      <%= form.label :parent_sign, '給藥者簽名' %>
      <%= form.hidden_field :parent_sign, class: 'form-control' %>
      <div class="signature-pad-wrapper mb-3">
        <canvas id="signature-pad" class="signature-pad"></canvas>
      </div>
      <div class="btn btn-light" id="draw">簽名</div>
      <div class="btn btn-light" id="clear">清除</div>
      <div class="btn btn-light" id="save">儲存簽章</div>
    </div>

    <div class="form-group">
      <%= form.hidden_field :category, :value => 'medicine',  class: 'form-control' %>
      <%= form.hidden_field :child_id, :value => params[:child_id],  class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= form.submit '新增紀錄', class: 'btn btn-warning' %>
    </div>
  <% end %>
</div>

<%= javascript_pack_tag 'signature_pad.js' %>
